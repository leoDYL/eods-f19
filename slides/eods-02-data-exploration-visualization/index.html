<!DOCTYPE html>
<html>
  <head>
    <title>Data Exploration and Visualization</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Garamond);
      @import url(https://fonts.googleapis.com/css?family=Muli:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
    </style>
    <link rel="stylesheet" href="../style.css">
  </head>
  <body>
    <textarea id="source">

class: center, middle

Elements of Data Science - F2019

# Data Exploration and Visualization

09/16/2019

---
# TODOs
<br/>

--
count: false
- Reading: Parts of Ch 2,3,4

--
count: false
- Answer and submit Quiz2


---
# PDSH Ch 2,3,4

.smaller[
- Ch 2. Introduction to NumPy
    - Understanding Data Types in Python
    - The Basics of NumPy Arrays
    - <span style="color:gray;">Computation on NumPy Arrays: Universal Functions</span>
    - Aggregations: Min, Max, and Everything In Between
    - <span style="color:gray;">Computation on Arrays: Broadcasting</span>
    - Comparisons, Masks, and Boolean Logic
    - <span style="color:gray;">Fancy Indexing</span>
    - Sorting Arrays
    - <span style="color:gray;">Structured Data: NumPy's Structured Arrays</span>
]

---
# PDSH Ch 2,3,4

.smaller[
- Ch 3. Data Manipulation with Pandas
    - Introducing Pandas Objects
    - Data Indexing and Selection
    - <span style="color:gray;">Operating on Data in Pandas</span>
    - Handling Missing Data
    - <span style="color:gray;">Hierarchical Indexing</span>
    - <span style="color:gray;">Combining Datasets: Concat and Append</span>
    - <span style="color:gray;">Combining Datasets: Merge and Join</span>
    - <span style="color:gray;">Aggregation and Grouping</span>
    - <span style="color:gray;">Pivot Tables</span>
    - <span style="color:gray;">Vectorized String Operations</span>
    - <span style="color:gray;">Working with Time Series</span>
    - <span style="color:gray;">High-Performance Pandas: eval() and query()</span>
]

---
# PDSH Ch 2,3,4
.smaller[
- Ch 4. Visualization with Matplotlib
    - Simple Line Plots
    - Simple Scatter Plots
    - <span style="color:gray;">Visualizing Errors</span>
    - <span style="color:gray;">Density and Contour Plots</span>
    - <span style="color:gray;">Histograms, Binnings, and Density</span>
    - <span style="color:gray;">Customizing Plot Legends</span>
    - <span style="color:gray;">Customizing Colorbars</span>
    - Multiple Subplots
    - <span style="color:gray;">Text and Annotation</span>
    - <span style="color:gray;">Customizing Ticks</span>
    - <span style="color:gray;">Customizing Matplotlib: Configurations and Stylesheets</span>
    - Three-Dimensional Plotting in Matplotlib
    - <span style="color:gray;">Geographic Data with Basemap</span>
    - Visualization with Seaborn
]


---
# Today's Agenda

- Python Review

- Intro to NumPy

- Pandas Dataframes

- Data Exploration with Pandas

- Intro to Visualization in Python


---
# Python Review


--
count:false
- Basic Data Types


--
count:false
- Comparisons and Logical Operators


--
count:false
- Conditionals


--
count:false
- Looping


--
count:false
- List/Dict Comprehensions


<br/>
--
count:false
- Style Guide : PEP 8 (https://www.python.org/dev/peps/pep-0008/)


---
#Basic Python Data Types
<br/>

--
count:false
- **int** : `42`


--
count:false
- **float** : `4.2` or `4e2`



--
count:false
- **boolean (bool)** : `True` or `False`


--
count:false
- **string (str)** : `'num 42'` or `"num 42"`


--
count:false
- **none**: `None`

<br/>
--
count:false
- also `long`, `complex`, `bytes`, etc.

---
#Python Data Types Continued

--
count:false
- **list** : `x = [42,'e',2.0]`&nbsp;&nbsp;
--
count:false
    - `x[0] == 42 # indexing`
--
count:false
    - `x[2] = 4 # assignment`
--
count:false
    - `x.pop(2) # delete`


--
count:false
- **dict** : `x = {'b':2,'a':1,'c':4}`
--
count:false
    - `x['b'] == 2 # indexing`
--
count:false
    - `x['d'] = 3 # assignment`
--
count:false
    - `x.pop('d',None) # delete`
--
count:false
    - `x.keys()`
--
count:false
    - `x.values()`
--
count:false
    - `x.items()`

---
#Python Data Types Continued
<br>

--
count:false
- **tuple** : `x = (2,'e')`
--
count:false
    - `x[0] == 2 # indexing`
--
count:false
    - `x[0] = 3 # assignment? Nope, error, immutable`

--
count:false
- **set** : `x = {2,'e','e'}`
--
count:false
    - `x.add(1)`
--
count:false
    - `x.remove('e')`
--
count:false
    - `x.intersection({2,3})`
--
count:false
    - `x.difference({2,3})`


---
# Python Comparisons and Logical Operators
<br/>


--
count:false
- `==, !=, &lt;, &gt;, &lt;=, &gt;=`


--
count:false
- `is, and, or, not`

<br/>
--
count:false
bitwise operators, we'll see these in numpy and pandas
- `&amp;, | , ~` 


---
# Control Flow

--
count:false
- if then elif then else

```python
>>> if x &gt; 0:
...     print('x &gt; 0')
... elif x &lt; 0:
...     print('x &lt; 0')
... else:
...     print('x == 0')
```

--
count:false

- single line if then else

```python
>>> "x &lt; 0" if (x &lt; 0) else "x &gt;= 0"
```

---
# More Control Flow

--
count:false
- for loop

```python
>>> for x in [0,1,2,3,4]:
...     print(x)
```

--
count:false
- while loop

```python
>>> x = 0
... while x &lt; 5:
...     print(x)
...     x += 1
```

---
# More Control Flow

--
count:false
- `break` : break out of current loop

```python
>>> x = 0
... while True:
...     print(x)
...     x += 1
...     if x == 5:
...         break
```

--
count:false
- `continue` : continue immediately to next iteration of loop

```python
>>> for x in range(5):
...     if x == 1:
...         continue
...     print(x)
```

---
# Useful Functions

--
count:false
```python
>>> len([0,1,2,3]) # get number of items in container
4
```

--
count:false
- range

```python
>>> list(range(3))
[0, 1, 2]
```

--
count:false
```python
>>> list(range(2,5,2))
[2, 4]
```


--
count:false
- enumerate

```python
>>> list(enumerate(['a','b','c']))
[(0, 'a'), (1, 'b'), (2, 'c')]
```

---
# `collections` Library

--
count:false
- Counter : useful for counting hashable objects

```python
>>> cnt = Counter()
>>> for word in ['red', 'blue', 'red', 'green', 'blue', 'blue']:
...     cnt[word] += 1
>>> cnt
Counter({'blue': 3, 'red': 2, 'green': 1})
```


--
count:false
- OrderedDict : remembers order added


--
count:false
- defaultdict : supplies missing values


--
count:false
- others : https://docs.python.org/3.7/library/collections.html

---
# List/Dict Comprehensions

--
count:false
- List Comprehension

```python
>>> y = range(1,6) # [1,2,3,4,5]
>>> [x%2 for x in y]
[1, 0, 1, 0, 1]
```
--
count:false
```python
>>> [i for i,x in enumerate(y) if x%2 == 0]
[1, 3]
```

--
count:false
- Dict Comprehension

```python
>>> pairs = ((1,'e'),(3,'f'))
>>> x = {key:'value_'+val for key,val in pairs}
>>> x
{1: 'value_e', 3: 'value_f'}
```

---
class:middle

# Questions re Python?

---
#Working with Data
<br/>

Want to:
--
count:false

--
count:false
- transform and select data quickly (numpy)


--
count:false
- manipulate datasets: load,save,group,join,etc. (pandas)


--
count:false
- keep things organized (pandas)





---
# Intro to NumPy
<br/>

--
count:false
 Provides (from numpy.org):

--
count:false
 - a powerful N-dimensional array object


--
count:false
 - sophisticated (broadcasting) functions


--
count:false
 - linear algebra and random number capabilities


--
count:false
- (Fourier transform, tools for integrating C/C++ and Fortran code, etc.)


---
#Python Dynamic Typing

--
count:false
```python
>>> for x in my_iterable:
...     print(x)
```
--
count:false
```python
>>> x = 5
>>> x = 'five'
```
--
count:false
- Note: still *strongly* typed

```python
>>> x,y = 5,'five'
>>> x+y
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unsupported operand type(s) for +: 'int' and 'str'

```

---
#Python Dynamic Typing
<br/>


--
count:false

<br/>
.middle.center[
![](images/cint_vs_pyint.png)]
<br/>
<br/>
.small.bottom[[PDHS Chap 2.](https://jakevdp.github.io/PythonDataScienceHandbook/02.01-understanding-data-types.html)]



---
#NumPy Array vs Python List:

--
count:false

<br/>
.middle.center[
![:scale 75%](images/array_vs_list.png)]
<br>
.bottom.small[[PDHS Chap 2.](https://jakevdp.github.io/PythonDataScienceHandbook/02.01-understanding-data-types.html)]


---
#Importing NumPy
<br>

--
count:false
Using the alias `np`

```python
>>> import numpy as np
```

---
#NumPy Arrays

--
count:false
```python
>>> np.array([1,2,3])
array([1, 2, 3])
```

--
count:false
```python
>>> np.array([1,'two',3])
array(['1', 'two', '3'], dtype='&lt;U21')
```

--
count:false
```ipython
>>> np.ones(5,dtype=int)
array([1, 1, 1, 1, 1])
```

--
count:false
```python
>>> np.full((2,3),3.14)
array([[3.14, 3.14, 3.14],
       [3.14, 3.14, 3.14]])
```

---
#NumPy Array Indexing

--
count:false
```python
>>> x = np.arange(1,6)
>>> x
array([1, 2, 3, 4, 5])
```

--
count:false
```python
>>> x[0]
1
```

--
count:false
```python
>>> x[-1]
5
```

--
count:false
```python
>>> x[-2]
4
```


---
#NumPy Array Slicing

--
count:false
```python
>>> x
array([1, 2, 3, 4, 5])
```

--
count:false
```python
>>> x[:2]
array([1, 2])
```

--
count:false
```python
>>> x[3:]
array([4, 5])
```

--
count:false
```python
>>> x[-3:]
array([3, 4, 5])
```

--
count:false
```python
>>> x[1:3]
array([2, 3])
```

---
#NumPy Array Slicing with Steps

--
count:false
```python
>>> x
array([1, 2, 3, 4, 5])
```

--
count:false
```python
>>> x[1:4:2]
array([2, 4])
```

--
count:false

```python
>>> x[::-1]
array([5, 4, 3, 2, 1])
```

---
#NumPy Fancy Indexing

--
count:false
Accessing multiple indexes at once

--
count:false
```python
>>> x = np.array([5,6,7,8])
```

--
count:false
```python
>>> x[[0,3]]
array([5, 8])
```

--
count:false
```python
>>> x[[0,-1]]
array([5, 8])
```

---
#Boolean Indexing

--
count:false
```python
>>> x = np.array([5,6,7,8])
```

--
count:false
```python
>>> x%2 == 0
array([False,  True, False,  True])
```

--
count:false
```python
>>> x[x%2 == 0]
array([6, 8])
```

--
count:false
```python
>>> x[x > 6]
array([7, 8])
```

---
#Bool Indexing And Bitwise Operators

--
count:false
```python
>>> (x%2 == 0)
array([False,  True, False,  True])
```

--
count:false
```python
>>> (x > 6)
array([False, False,  True,  True])
```

--
count:false
```python
>>> (x%2 == 0) & (x > 6)
array([False, False, False,  True])

```

--
count:false
```python
>>> x[(x%2 == 0) & (x > 6)]
array([8])
```

---
#Bool Indexing And Bitwise Operators

--
count:false
and : &amp;

```python
>>> x[(x%2 == 0) & (x > 6)]
array([8])
```

--
count:false
or : |

```python
>>> x[(x%2 == 0) | (x > 6)]
array([6, 7, 8])
```

--
count:false
not : ~

```python
>>> x[~( (x%2 == 0) | (x > 6) )]
array([5])
```

---
#Multidimensional Lists

--
count:false
```python
>>> x = [[1,2,3],[4,5,6]] # list of lists
>>> x
[[1, 2, 3], [4, 5, 6]]
```
--
count:false
```python
>>> x[0][0] # first row, first column
1
```
--
count:false
```python
>>> x[0] # first row
[1, 2, 3]
```
--
count:false
```python
>>> [row[0] for row in x] # first column?
[1, 4]
```

---
#NumPy Multidimensional Arrays
--
count:false
```python
>>> x = np.array([[1,2,3],[4,5,6]])
>>> x
array([[1, 2, 3],
       [4, 5, 6]])
```
--
count:false
```python
>>> x[0,0] # first row, first column
1
```
--
count:false
```python
>>> x[0,:] # first row
array([1, 2, 3])
```
--
count:false
```python
>>> x[:,0] # first column
array([1, 4])
```


---
#NumPy Array Attributes

--
count:false
```python
>>> x = np.array([1,2,3],[4,5,6])
```
--
count:false
```python
* >>> x.ndim # number of dimensions
2
```

--
count:false
```python
* >>> x.shape # shape in each dimension
(2,3)
```

--
count:false
```python
* >>> x.size # size over all dimensions
6
```

---
#NumPy Operations (UFuncs)

--
count:false
```python
>>> x = [1,2,3]
>>> y = [4,5,6]
```
--
count:false
```python
*>>> x+y
[1, 2, 3, 4, 5, 6]
```
<br>
--
count:false
```python
>>> x = np.array([1,2,3])
>>> y = np.array([4,5,6])
```
--
count:false
```python
*>>> x+y
array([5, 7, 9])
```


---
#NumPy Broadcasting

Allows for vectorized computation on arrays of different sizes

--
count:false
```python
>>> x = [1,2,3]
>>> z = 2
*>>> x**2
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unsupported operand type(s) for ** or pow(): 'list' and 'int'

```
--
count:false
```python
>>> x = np.array([1,2,3])
>>> z = 2
* >>> x**2
array([1, 4, 9])
```

---
#Numpy `random` Submodule

Provides many random sampling functions

--
count:false
`from numpy.random import ...`

--
count:false
- `rand` : random floats

--
count:false
- `randint` : random integers

--
count:false
- `randn` : standard normal distribution

--
count:false
- `permutation` : random permutation

--
count:false
- `normal` : Gaussian normal distribution


--
count:false
- `seed` : seed the random generator
---
#Pandas Dataframes
<br/>


---
#Data Exploration with Pandas
<br/>


---
#Intro to Visualization in Python
<br/>

---
class:middle

# Questions?


    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script>
    // Config Remark
    remark.macros['scale'] = function (percentage) {
        var url = this;
        return '<img src="' + url + '" style="width: ' + percentage + '" />';
    };
    config_remark = {
        highlightStyle: 'github',
        highlightSpans: true,
        highlightLines: true,
        ratio: "16:9"
    };
      var slideshow = remark.create(config_remark);

    // Configure MathJax
    MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] /* removed 'code' entry*/
    }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i = 0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
    </script>
  </body>
</html>
